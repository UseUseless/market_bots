"""
Модуль оптимизации стратегий.

Этот пакет реализует алгоритм **Walk-Forward Optimization (WFO)**.
WFO имитирует процесс переоптимизации стратегии в реальном времени, периодически
сдвигая окно обучения и тестирования. Это позволяет оценить устойчивость
стратегии к изменению рыночных фаз.

Реализация:
    Вся логика оркестрации инкапсулирована в классе `WFOEngine` (файл `engine.py`).
    Он управляет жизненным циклом исследования, взаимодействием с Optuna и данными.

Основные компоненты процесса (внутри `WFOEngine`):
1.  **Data Slicing**: Загрузка истории и нарезка на скользящие окна (Train/Test).
    Поддерживает режимы `Preload` (RAM) и `JIT` (Disk) для работы с большими датасетами.
2.  **Step Runner (`_optimize_step`)**: Выполняет один шаг сдвига окна.
    Включает в себя две фазы:
    - **In-Sample (Train)**: Поиск параметров через `Optuna` (функция `_objective`).
    - **Out-of-Sample (Test)**: Валидация лучших параметров на "будущем".
3.  **Objective Function**: Целевая функция для оптимизатора. Запускает `BacktestEngine`
    с заданными параметрами и возвращает метрику эффективности.
4.  **Reporting**: Агрегация результатов всех шагов и генерация отчетов
    через `app.core.analysis.reports.wfo`.

Ключевые зависимости:
    - `optuna`: Библиотека для байесовской оптимизации гиперпараметров.
    - `BacktestEngine`: Используется внутри цикла оптимизации для оценки каждого набора параметров.
"""