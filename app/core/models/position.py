from dataclasses import dataclass
from datetime import datetime

@dataclass
class Position:
    """
    Структура данных для хранения полной информации об одной открытой позиции.

    Использование dataclass обеспечивает строгую типизацию и упрощает создание
    объектов, делая код более чистым и менее подверженным ошибкам по сравнению
    с использованием словарей.
    """

    instrument: str
    """Тикер или символ инструмента, например, 'SBER' или 'BTCUSDT'."""

    quantity: float
    """
    Количество купленных/проданных единиц (акций, контрактов, монет).
    Может быть дробным для криптовалют.
    """

    entry_price: float
    """Фактическая цена входа в позицию с учетом проскальзывания."""

    entry_timestamp: datetime
    """Временная метка (UTC) свечи, на которой была открыта позиция."""

    direction: str  # 'BUY' или 'SELL'
    """Направление позиции: 'BUY' для длинной, 'SELL' для короткой."""

    stop_loss: float
    """Абсолютный уровень цены для стоп-лосса."""

    take_profit: float
    """Абсолютный уровень цены для тейк-профита."""

    entry_commission: float
    """Комиссия, уплаченная при открытии этой позиции."""